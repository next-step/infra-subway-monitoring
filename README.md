<p align="center">
    <img width="200px;" src="https://raw.githubusercontent.com/woowacourse/atdd-subway-admin-frontend/master/images/main_logo.png"/>
</p>
<p align="center">
  <img alt="npm" src="https://img.shields.io/badge/npm-%3E%3D%205.5.0-blue">
  <img alt="node" src="https://img.shields.io/badge/node-%3E%3D%209.3.0-blue">
  <a href="https://edu.nextstep.camp/c/R89PYi5H" alt="nextstep atdd">
    <img alt="Website" src="https://img.shields.io/website?url=https%3A%2F%2Fedu.nextstep.camp%2Fc%2FR89PYi5H">
  </a>
  <img alt="GitHub" src="https://img.shields.io/github/license/next-step/atdd-subway-service">
</p>

<br>

# ì¸í”„ë¼ê³µë°© ìƒ˜í”Œ ì„œë¹„ìŠ¤ - ì§€í•˜ì²  ë…¸ì„ ë„

<br>

## ğŸš€ Getting Started

### Install
#### npm ì„¤ì¹˜
```
cd frontend
npm install
```
> `frontend` ë””ë ‰í† ë¦¬ì—ì„œ ìˆ˜í–‰í•´ì•¼ í•©ë‹ˆë‹¤.

### Usage
#### webpack server êµ¬ë™
```
npm run dev
```
#### application êµ¬ë™
```
./gradlew clean build
```
<br>


### 1ë‹¨ê³„ - ì›¹ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸
* [x] ì›¹ ì„±ëŠ¥ ì˜ˆì‚° ì‘ì„± í›„ ì„œë²„ ëª©í‘œ ì‘ë‹µì‹œê°„ ë„ì¶œ

| Mobile | ì„œìš¸êµí†µê³µì‚¬ | ë„¤ì´ë²„ì§€ë„ | ì¹´ì¹´ì˜¤ë§µ  | Running Map |
|--------|--------|-------|-------|-------------|
| FCP    | 6.7s   | 2.5s  | 1.7s  | 14.8s       |
| SI     | 11.9s  | 5.7s  | 7.1s  | 14.8s       |
| LCP    | 7.2s   | 7.4s  | 6.7s  | 15.3s       |
| TTI    | 9.4s   | 6.6s  | 4.5s  | 15.3s       |
| TBT    | 1390ms | 460ms | 40ms  | 479ms       |
| CLS    | 0.00   | 0.03  | 0.005 | 0.042s      |

| Desktop | ì„œìš¸êµí†µê³µì‚¬ | ë„¤ì´ë²„ì§€ë„ | ì¹´ì¹´ì˜¤ë§µ  | Running Map |
|---------|--------|-------|-------|-------------|
| FCP     | 1.5s   | 0.5s  | 0.5s  | 2.7s        |
| SI      | 2.1s   | 2.7s  | 2.5s  | 2.8s        |
| LCP     | 1.8s   | 1.5s  | 1.4s  | 2.8s        |
| TTI     | 1.9s   | 1.1s  | 0.7s  | 2.8s        |
| TBT     | 200ms  | 0ms   | 0ms   | 50ms        |
| CLS     | 0.001  | 0.006 | 0.039 | 0.004s      |

* ìš©ì–´
    * FCP(First Contentful Paint): ì²« ë²ˆì§¸ í…ìŠ¤íŠ¸ ë˜ëŠ” ì´ë¯¸ì§€ê°€ í‘œì‹œë˜ëŠ” ì‹œê°„ì„ ë‚˜íƒ€ë‚¸ë‹¤.
    * SI(Speed Index): ì½˜í…ì¸ ê°€ ì–¼ë§ˆë‚˜ ë¹¨ë¦¬ í‘œì‹œë˜ëŠ”ì§€ ë¡œë“œ ì„±ëŠ¥ì„ ë³´ì—¬ì¤€ë‹¤.
    * LCP(Largest Contentful Paint): ìµœëŒ€ í…ìŠ¤íŠ¸ ë˜ëŠ” ì´ë¯¸ì§€ê°€ í‘œì‹œë˜ëŠ” ì‹œê°„ì„ ë‚˜íƒ€ë‚¸ë‹¤.
    * TTI(Time to Interactive): í˜ì´ì§€ê°€ ì‚¬ìš©ìì™€ ìƒí˜¸ì‘ìš©í•  ìˆ˜ ìˆê²Œ ë  ë•Œê¹Œì§€ ê±¸ë¦¬ëŠ” ì‹œê°„ì´ë‹¤.
    * TBT(Total Blocking Time): FCPì™€ ìƒí˜¸ì‘ìš© ì‹œê°„ ì‚¬ì´ì˜ ëª¨ë“  ì‹œê°„ì˜ í•©ìœ¼ë¡œ ì‘ì—… ì§€ì† ì‹œê°„ì´ 50msë¥¼ ë„˜ìœ¼ë©´ ë°€ë¦¬ì´ˆ ë‹¨ìœ„ë¡œ í‘œí˜„ëœë‹¤.
    * CLS(Cumulative Layout Shift): í‘œì‹œ ì˜ì—­ ì•ˆì— ë³´ì´ëŠ” ìš”ì†Œì˜ ì´ë™ì„ ì¸¡ì •í•œë‹¤.

1. ì›¹ ì„±ëŠ¥ì˜ˆì‚°ì€ ì–´ëŠì •ë„ê°€ ì ë‹¹í•˜ë‹¤ê³  ìƒê°í•˜ì‹œë‚˜ìš”
   |         | Mobile | Desktop |
   |---------|--------|---------|
   | FCP     | 3.6s   | 0.83s  |
   | SI      | 8.23s  | 2.65s  |
   | LCP     | 7.1s   | 2.35s  |
   | TTI     | 6.83s  | 2.35s  |
   | TBT     | 630ms  | 100ms  |
   | CLS     | 0.012  | 0.015  |
ê²½ìŸ 3ì‚¬ì˜ í‰ê· ìœ¼ë¡œ ì¡ì•˜ìŠµë‹ˆë‹¤.

2. ì›¹ ì„±ëŠ¥ì˜ˆì‚°ì„ ë°”íƒ•ìœ¼ë¡œ í˜„ì¬ ì§€í•˜ì²  ë…¸ì„ ë„ ì„œë¹„ìŠ¤ì˜ ì„œë²„ ëª©í‘œ ì‘ë‹µì‹œê°„ ê°€ì„¤ì„ ì„¸ì›Œë³´ì„¸ìš”.
* Lighthouse ì„±ëŠ¥ ê°ì‚¬ì—ì„œ 80 ì  ì´ìƒì„ ë°›ê¸° ìœ„í•˜ì—¬ ì•„ë˜ ë‚´ìš©ì„ ê°œì„ í•œë‹¤.
    * í…ìŠ¤íŠ¸ ì••ì¶• ì‚¬ìš© (ì˜ˆìƒ ì ˆê°ì¹˜: 9.15 s)
    * ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¤„ì´ê¸° (ì˜ˆìƒ ì ˆê°ì¹˜: 3.45 s)
    * ë Œë”ë§ ì°¨ë‹¨ ë¦¬ì†ŒìŠ¤ ì œê±°í•˜ê¸° (ì˜ˆìƒ ì ˆê°ì¹˜: 0.75 s)
    * ì½˜í…ì¸ ê°€ í¬í•¨ëœ ìµœëŒ€ í˜ì¸íŠ¸ ì´ë¯¸ì§€ ë¯¸ë¦¬ ë¡œë“œ (ì˜ˆìƒ ì ˆê°ì¹˜: 0.48 s)
    * ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” CSS ì¤„ì´ê¸°
* vendor.js í¬ê¸°ê°€ 2.2MBë¡œ 1MBì•ˆìœ¼ë¡œ ì¤„ì´ë„ë¡ ê°œì„ í•œë‹¤.

---

### 2ë‹¨ê³„ - ë¶€í•˜ í…ŒìŠ¤íŠ¸
- [x] ë¶€í•˜ í…ŒìŠ¤íŠ¸
    - [x] í…ŒìŠ¤íŠ¸ ì „ì œì¡°ê±´ ì •ë¦¬
        - [x] ëŒ€ìƒ ì‹œìŠ¤í…œ ë²”ìœ„
        - [x] ëª©í‘¯ê°’ ì„¤ì • (latency, throughput, ë¶€í•˜ ìœ ì§€ê¸°ê°„)
        - [x] ë¶€í•˜ í…ŒìŠ¤íŠ¸ ì‹œ ì €ì¥ë  ë°ì´í„° ê±´ìˆ˜ ë° í¬ê¸°
    - [x] ì•„ë˜ ì‹œë‚˜ë¦¬ì˜¤ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ì—¬ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±
        - [x] ì ‘ì† ë¹ˆë„ê°€ ë†’ì€ í˜ì´ì§€ - ë©”ì¸í˜ì´ì§€ ì¡°íšŒ, ê²½ë¡œê²€ìƒ‰í˜ì´ì§€ ì¡°íšŒ, ê²½ë¡œì¡°íšŒ
        - [ ] ë°ì´í„°ë¥¼ ê°±ì‹ í•˜ëŠ” í˜ì´ì§€
        - [ ] ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ëŠ”ë° ì—¬ëŸ¬ ë°ì´í„°ë¥¼ ì°¸ì¡°í•˜ëŠ” í˜ì´ì§€
    - [x] Smoke, Load, Stress í…ŒìŠ¤íŠ¸ í›„ ê²°ê³¼ë¥¼ ê¸°ë¡


1. ë¶€í•˜í…ŒìŠ¤íŠ¸ ì „ì œì¡°ê±´ì€ ì–´ëŠì •ë„ë¡œ ì„¤ì •í•˜ì…¨ë‚˜ìš”

- ëŒ€ìƒ ì‹œìŠ¤í…œ ë²”ìœ„
    - ë©”ì¸í˜ì´ì§€ ì´ë™
    - ê²½ë¡œê²€ìƒ‰í˜ì´ì§€ ì´ë™
    - ê²½ë¡œ ì¡°íšŒ

- Throughput
    - DAU : [50ë§Œ]
        - ê²½ìŸì‚¬ DAU (22ë…„ 8ì›” ê¸°ì¤€)
            - ë„¤ì´ë²„ì§€ë„ : 2129ë§Œ(MAU) => 70ë§Œ
            - ì¹´ì¹´ì˜¤ë§µ : 950ë§Œ(MAU) => 30ë§Œ
            - ì°¸ê³  ) https://biz.chosun.com/it-science/ict/2022/09/27/I2476GC4KRBOXLT546RZOBYZQA/
        - ëª©í‘œ DAU : ê²½ìŸì‚¬ í‰ê· ì¸ 50ë§Œ
    - 1ì¼ í‰ê·  ì ‘ì†ìˆ˜ : [3.4íšŒ]
        - ê²½ìŸì‚¬ ì¼ê°„ í‰ê·  ì‹¤í–‰ íšŸìˆ˜
            - ì¹´ì¹´ì˜¤ë§µ : 3.4íšŒ
            - ì°¸ê³  ) https://ko.lab.appa.pe/2016-09/kakao-korea.html
    - ì§‘ì¤‘ë¥  : ì•½ [3.3ë°°] ì§€í•˜ì²  ì´ ì‚¬ìš©ì¸ì› ë¹„ìœ¨ë¡œ ì¸¡ì •
        - í‰ì†Œ : 300,000
        - ìµœëŒ€ : 1,000,000
        - ì°¸ê³  ) https://www.bigdata-map.kr/datastory/traffic/seoul
    - í‰ê·  rps : [19.67]
      - 1ì¼ ì‚¬ìš©ì ìˆ˜ * 1ëª…ë‹¹ 1ì¼ í‰ê·  ì ‘ì† ìˆ˜ / 86400(ì´ˆ/ì¼) = 1ì¼ í‰ê·  rps
      - 500,000 * 3.4 / 86400 = 19.67
    - ìµœëŒ€ rps : [60]
      - í‰ê·  rps * ì§‘ì¤‘ë¥  = 1ì¼ ìµœëŒ€ rps
      - 19.67 * 3.3 = 64.91
      
- VUSER êµ¬í•˜ê¸°
    - T = 3 * 0.5 + 1(a) => 2.5
    - í‰ê·  VUSER = 19.67 * 2.5 / 3.4 -> [14.46]
    - ìµœëŒ€ VUSER = 64.91 * 2.5 / 3.4 -> [47.73]


2. Smoke, Load, Stress í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ì™€ ê²°ê³¼ë¥¼ ê³µìœ í•´ì£¼ì„¸ìš”
    - src/k6 í´ë” í•˜ìœ„ì— ë„£ì–´ë‘ì—ˆìŠµë‹ˆë‹¤.

---

### 3ë‹¨ê³„ - ë¡œê¹…, ëª¨ë‹ˆí„°ë§
- [x] Application Log íŒŒì¼ë¡œ ì €ì¥í•˜ê¸°
  - íšŒì›ê°€ì…, ë¡œê·¸ì¸ ë“±ì˜ ì´ë²¤íŠ¸ì— ë¡œê¹…ì„ ì„¤ì •
  - ê²½ë¡œì°¾ê¸° ë“±ì˜ ì´ë²¤íŠ¸ ë¡œê·¸ë¥¼ JSONìœ¼ë¡œ ìˆ˜ì§‘
- [x] Nginx Access Log ì„¤ì •í•˜ê¸°
- [x] Cloudwatchë¡œ ë¡œê·¸ ìˆ˜ì§‘í•˜ê¸°
- [x] Cloudwatchë¡œ ë©”íŠ¸ë¦­ ìˆ˜ì§‘í•˜ê¸°
- [x] USE ë°©ë²•ë¡ ì„ í™œìš©í•˜ê¸° ìš©ì´í•˜ë„ë¡ ëŒ€ì‹œë³´ë“œ êµ¬ì„±

1. ê° ì„œë²„ë‚´ ë¡œê¹… ê²½ë¡œë¥¼ ì•Œë ¤ì£¼ì„¸ìš”
- /home/ubuntu/nextstep/log/file.log
- /home/ubuntu/nextstep/log/json.log
- /var/log/nginx/access.log
- /var/log/nginx/error.log

2. Cloudwatch ëŒ€ì‹œë³´ë“œ URLì„ ì•Œë ¤ì£¼ì„¸ìš”
   https://ap-northeast-2.console.aws.amazon.com/cloudwatch/home?region=ap-northeast-2#dashboards:name=aksgudwns-dashboard
