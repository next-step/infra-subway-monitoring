<p align="center">
    <img width="200px;" src="https://raw.githubusercontent.com/woowacourse/atdd-subway-admin-frontend/master/images/main_logo.png"/>
</p>
<p align="center">
  <img alt="npm" src="https://img.shields.io/badge/npm-%3E%3D%205.5.0-blue">
  <img alt="node" src="https://img.shields.io/badge/node-%3E%3D%209.3.0-blue">
  <a href="https://edu.nextstep.camp/c/R89PYi5H" alt="nextstep atdd">
    <img alt="Website" src="https://img.shields.io/website?url=https%3A%2F%2Fedu.nextstep.camp%2Fc%2FR89PYi5H">
  </a>
  <img alt="GitHub" src="https://img.shields.io/github/license/next-step/atdd-subway-service">
</p>

<br>

# ì¸í”„ë¼ê³µë°© ìƒ˜í”Œ ì„œë¹„ìŠ¤ - ì§€í•˜ì²  ë…¸ì„ ë„

<br>

## ğŸš€ Getting Started

### Install
#### npm ì„¤ì¹˜
```
cd frontend
npm install
```
> `frontend` ë””ë ‰í† ë¦¬ì—ì„œ ìˆ˜í–‰í•´ì•¼ í•©ë‹ˆë‹¤.

### Usage
#### webpack server êµ¬ë™
```
npm run dev
```
#### application êµ¬ë™
```
./gradlew clean build
```
<br>


### 1ë‹¨ê³„ - ì›¹ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸
- ìš©ì–´ ì •ë¦¬  
  FCP: í˜ì´ì§€ ë¡œë“œê°€ ì‹œì‘ëœ í›„ ë·°í¬íŠ¸ë‚´ì˜ ì˜ë¯¸ìˆëŠ” ì½˜í…ì¸  ì¼ë¶€ê°€ ì²˜ìŒ í™”ë©´ì— ë Œë”ë§ ë  ë•Œê¹Œì§€ì˜ ì‹œê°„ì„ ì¸¡ì •  
  Speed Index: ë·°í¬íŠ¸ë‚´ì˜ ì½˜í…ì¸ ê°€ ëˆˆì— ë„ê²Œ ì±„ì›Œì§€ëŠ” ì†ë„ë¥¼ ë³´ì—¬ì£¼ëŠ” í˜ì´ì§€ ë¡œë“œ ì„±ëŠ¥ì„ ì¸¡ì •í•©ë‹ˆë‹¤.  
  LCP: ë·°í¬íŠ¸ì˜ ì»¨í…ì¸  ì¤‘ ê°€ì¥ í°(ë„“ì€) ì˜ì—­ì„ ì°¨ì§€í•˜ëŠ” ì´ë¯¸ì§€ë‚˜ í…ìŠ¤íŠ¸ ìš”ì†Œê°€ ì²˜ìŒ ë¡œë”©ë˜ëŠ” ì‹œì   
  TTI: í˜ì´ì§€ê°€ ì™„ì „íˆ ì‚¬ìš©ìì™€ ìƒí˜¸ ì‘ìš©í•  ìˆ˜ ìˆëŠ” ìƒíƒœê°€ ë˜ëŠ”ë° ê±¸ë¦¬ëŠ” ì‹œê°„ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.  
  TBT: TTIì™€ ë¹„ìŠ·í•œ ì¸¡ì • ê¸°ì¤€ì„ ê°–ê³  ìˆëŠ”ë°ìš”. í˜ì´ì§€ê°€ í´ë¦­, í‚¤ë³´ë“œ ì…ë ¥ ê°™ì€ ì‚¬ìš©ìì™€ ìƒí˜¸ì‘ìš©í•˜ì§€ ëª»í–ˆë˜ ì‹œê°„ì˜ ì´ í•©ì„ ì¸¡ì •  
  CLS: ì‚¬ìš©ìê°€ ì˜ˆìƒí•˜ì§€ ëª»í•œ ë ˆì´ì•„ì›ƒì„ ê²½í—˜í•˜ëŠ” ë¹ˆë„ë¥¼ ì •ëŸ‰í™”í•´ì„œ ì‹œê°ì ì¸ ì•ˆì •ì„±ì„ íŒë‹¨


- ìì‚¬  
  First Byte |ã€€Start Renderã€€|ã€€FCPã€€|ã€€Speed Indexã€€|ã€€ã€€LCPã€€ã€€|ã€€ CLSã€€ |ã€€	ã€€TBTã€€	ã€€|ã€€Total Bytes  
  1.772Sã€€ã€€ã€€ã€€8.700Sã€€ã€€ã€€8.701Sã€€ã€€ã€€8.729Sã€€ã€€ã€€8.881Sã€€ã€€ã€€ã€€.058ã€€ã€€ã€€â‰¥ .000Sã€€ã€€ã€€2,462KB


- ê²½ìŸì‚¬(ì„œìš¸êµí†µê³µì‚¬, ë„¤ì´ë²„ë§´, ì¹´ì¹´ì˜¤ë§µ ìˆœì„œ)  
  First Byte |ã€€Start Renderã€€|ã€€FCPã€€|ã€€Speed Indexã€€|ã€€ã€€LCPã€€ã€€|ã€€ CLSã€€ |ã€€	ã€€TBTã€€	ã€€|ã€€Total Bytes  
  2.641Sã€€ã€€ã€€ã€€ 7.000Sã€€ã€€ã€€6.976S	ã€€ã€€10.327Sã€€ã€€	ã€€6.976Sã€€ã€€ã€€ã€€0ã€€ã€€ã€€â‰¥ 7.938S	ã€€ã€€ã€€ 1,066KB  
  3.933Sã€€ã€€ã€€ã€€	5.800Sã€€ã€€ã€€5.632Sã€€ã€€ã€€5.972Sã€€ã€€ã€€  6.037Sã€€ã€€ã€€ã€€ 0ã€€ã€€ã€€â‰¥ .000Sã€€ã€€ã€€ã€€1,686KB  
  1.835Sã€€ã€€ã€€ ã€€3.100Sã€€ã€€ã€€3.095Sã€€ã€€ã€€7.130Sã€€ã€€ã€€ 9.367Sã€€ã€€ã€€.004ã€€ã€€ã€€ .600Sã€€ã€€ã€€ã€€ 1,456KB

1. ì›¹ ì„±ëŠ¥ì˜ˆì‚°ì€ ì–´ëŠì •ë„ê°€ ì ë‹¹í•˜ë‹¤ê³  ìƒê°í•˜ì‹œë‚˜ìš”  
   FCL(2s), LCP(2.5s) CLS(0.1s), Speed Index(4.3s)ê°€ ê°ê° ê´„í˜¸ì— í‘œì‹œëœ ì‹œê°„ ì•ˆì— ë“¤ì—ˆì„ ë•Œ ê°€ì¥ ì„±ëŠ¥ì´ ë†“ë‹¤ê³  í‰ê°€ëœë‹¤ê³  í•©ë‹ˆë‹¤.  
   ì‹¤ë¬´ì—ì„œ ìµœì í™”ë¥¼ ìœ„í•´ ë…¸ë ¥ì„ ì§€ì†ì ì¸ ë…¸ë ¥ì„ í•˜ê² ì§€ë§Œ í•­ìƒ ê°€ì¥ ì¢‹ì€ ìƒíƒœë¥¼ ìœ ì§€í•˜ê¸´ ì–´ë ¤ìš´ ê²ƒ ê°™ìŠµë‹ˆë‹¤.  
   ìœ ì €ê°€ ëŠë¼ê¸°ì— ë¶ˆí¸í•˜ë‹¤ê³  ëŠê»´ ê²½ìŸì‚¬ë¡œ ì´íƒˆ ë˜ì§€ ì•Šë„ë¡ ê²½ìŸì‚¬ì˜ ì§€í‘œì˜ 20%ì •ë„ ì•ˆë°–ìœ¼ë¡œ ì˜ˆì‚°ì„ ë‚´ëŠ” ê²ƒì´ ì¢‹ë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤.


2. ì›¹ ì„±ëŠ¥ì˜ˆì‚°ì„ ë°”íƒ•ìœ¼ë¡œ í˜„ì¬ ì§€í•˜ì²  ë…¸ì„ ë„ ì„œë¹„ìŠ¤ì˜ ì„œë²„ ëª©í‘œ ì‘ë‹µì‹œê°„ ê°€ì„¤ì„ ì„¸ì›Œë³´ì„¸ìš”.

First Byte |ã€€Start Renderã€€|ã€€FCPã€€|ã€€Speed Indexã€€|ã€€ã€€LCPã€€ã€€|ã€€ CLSã€€ |ã€€	ã€€TBTã€€	ã€€|ã€€Total Bytes  
1.772Sã€€ã€€ã€€ã€€6.000Sã€€ã€€ã€€6.701Sã€€ã€€ã€€8.729Sã€€ã€€ã€€6.881Sã€€ã€€ã€€ã€€.058ã€€ã€€ã€€â‰¥ .000Sã€€ã€€ã€€1,562KB



### 2ë‹¨ê³„ - ë¶€í•˜ í…ŒìŠ¤íŠ¸
ìš©ì–´ì •ë¦¬ 
-  Smoke í…ŒìŠ¤íŠ¸   
VUser: 1 ~ 2  
ìµœì†Œì˜ ë¶€í•˜ë¡œ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ê²€ì¦í•´ë´…ë‹ˆë‹¤.
- Load í…ŒìŠ¤íŠ¸  
í‰ì†Œ íŠ¸ë˜í”½ê³¼ ìµœëŒ€ íŠ¸ë˜í”½ì¼ ë•Œ VUserë¥¼ ê³„ì‚° í›„ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ê²€ì¦í•´ë´…ë‹ˆë‹¤.  
ê²°ê³¼ì— ë”°ë¼ ê°œì„ í•´ë³´ë©´ì„œ í…ŒìŠ¤íŠ¸ë¥¼   
- Stress í…ŒìŠ¤íŠ¸  
ìµœëŒ€ ì‚¬ìš©ì í˜¹ì€ ìµœëŒ€ ì²˜ë¦¬ëŸ‰ì¸ ê²½ìš°ì˜ í•œê³„ì ì„ í™•ì¸í•˜ëŠ” í…ŒìŠ¤íŠ¸ì…ë‹ˆë‹¤.
ì ì§„ì ìœ¼ë¡œ ë¶€í•˜ë¥¼ ì¦ê°€ì‹œì¼œë´…ë‹ˆë‹¤.
í…ŒìŠ¤íŠ¸ ì´í›„ ì‹œìŠ¤í…œì´ ìˆ˜ë™ ê°œì… ì—†ì´ ìë™ ë³µêµ¬ë˜ëŠ”ì§€ í™•ì¸í•´ë´…ë‹ˆë‹¤.  

1. ë¶€í•˜í…ŒìŠ¤íŠ¸ ì „ì œì¡°ê±´ì€ ì–´ëŠì •ë„ë¡œ ì„¤ì •í•˜ì…¨ë‚˜ìš”  
   
    - ì˜ˆìƒ 1ì¼ ì‚¬ìš©ì ìˆ˜ (DAU)    
   ì¹´ì¹´ì˜¤ë§µ DAU ì•½ 600Kë¼ê³  ê°€ì •í–ˆì„ ë•Œ ìì‚¬ DAU 300K ì˜ˆìƒ

    -   í”¼í¬ì‹œê°„ëŒ€ ì§‘ì¤‘ë¥  (ìµœëŒ€ íŠ¸ë˜í”½ / í‰ì†Œ íŠ¸ë˜í”½)  
    ì¶œí‡´ê·¼ ì‹œê°„ì— í‰ì†Œë³´ë‹¤  3ë°°ì •ë„ íŠ¸ë˜í”½ì´ ëª°ë¦´ ê²ƒ ìœ¼ë¡œ ì˜ˆìƒ

    -  1ëª…ë‹¹ 1ì¼ í‰ê·  ìš”ì²­ ìˆ˜  
   14 (ì¶œí‡´ê·¼ 2íšŒ ì ‘ì† ì˜ˆìƒ, 1íšŒ ì ‘ì†ë‹¹ 7ë²ˆ ìš”ì²­ ì˜ˆìƒ)


DAU * 1ëª…ë‹¹ 1ì¼ í‰ê·  ì ‘ì†ìˆ˜ = 1ì¼ ì´ ì ‘ì†ìˆ˜  
â†’ 300,000* 14 = 4,200,000  
1ì¼ ì´ ì ‘ì†ìˆ˜ / 86400(ì´ˆ / ì¼) = 1ì¼ í‰ê·  rps  
â†’  = ì•½ 48.6  
1ì¼ í‰ê·  rps * (ìµœëŒ€ íŠ¸ë˜í”½ / í‰ì†Œ íŠ¸ë˜í”½) = 1ì¼ ìµœëŒ€ rps  
â†’ 48.6 * 3 = ì•½ 145.8  

T = (6 * 0.5) + 1  
-> 4  
í‰ê· VUser = 48.6 * 4 / 6  
-> ì•½ 32  
ìµœëŒ€VUser = 145.8 * 4 / 6  
-> ì•½ 96  


2. Smoke, Load, Stress í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ì™€ ê²°ê³¼ë¥¼ ê³µìœ í•´ì£¼ì„¸ìš”  
   ê²°ê³¼ë¥¼ ìº¡ì³í•˜ì—¬ ë³´ì—¬ë“œë¦¬ëŠ” ê²ƒì´ ì¢‹ì„ë“¯ í•˜ì—¬
   ./step2 í´ë” ìƒì„±í›„ ìº¡ì³í•œ ê²°ê³¼ ì´ë¯¸ì§€ íŒŒì¼ ë„£ì–´ ë‘ì—ˆìŠµë‹ˆë‹¤.  
### smoke
- ![img smoke-grafana](./step2/smoke/grafana-smoke.png)
- ![img smoke-k6](./step2/smoke/k6-smoke.JPG)



### load
- ![img load-grafana](./step2/load/grafana-load.png)
- ![img load-k6](./step2/load/k6-load.JPG)  


### stress
- ![img smoke-grafana](./step2/stress/grafana-stress.png)
- ![img smoke-k6](./step2/stress/k6-stress.JPG)

---

### 3ë‹¨ê³„ - ë¡œê¹…, ëª¨ë‹ˆí„°ë§
1. ê° ì„œë²„ë‚´ ë¡œê¹… ê²½ë¡œë¥¼ ì•Œë ¤ì£¼ì„¸ìš”  


    /home/ubuntu/logs/subway/_file.log  
    /home/ubuntu/logs/subway/_json.log  

2. Cloudwatch ëŒ€ì‹œë³´ë“œ URLì„ ì•Œë ¤ì£¼ì„¸ìš”  
   https://ap-northeast-2.console.aws.amazon.com/cloudwatch/home?region=ap-northeast-2#dashboards:name=sonyoon7
