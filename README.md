<p align="center">
    <img width="200px;" src="https://raw.githubusercontent.com/woowacourse/atdd-subway-admin-frontend/master/images/main_logo.png"/>
</p>
<p align="center">
  <img alt="npm" src="https://img.shields.io/badge/npm-%3E%3D%205.5.0-blue">
  <img alt="node" src="https://img.shields.io/badge/node-%3E%3D%209.3.0-blue">
  <a href="https://edu.nextstep.camp/c/R89PYi5H" alt="nextstep atdd">
    <img alt="Website" src="https://img.shields.io/website?url=https%3A%2F%2Fedu.nextstep.camp%2Fc%2FR89PYi5H">
  </a>
  <img alt="GitHub" src="https://img.shields.io/github/license/next-step/atdd-subway-service">
</p>

<br>

# ì¸í”„ë¼ê³µë°© ìƒ˜í”Œ ì„œë¹„ìŠ¤ - ì§€í•˜ì²  ë…¸ì„ ë„

<br>

## ğŸš€ Getting Started

### Install
#### npm ì„¤ì¹˜
```
cd frontend
npm install
```
> `frontend` ë””ë ‰í† ë¦¬ì—ì„œ ìˆ˜í–‰í•´ì•¼ í•©ë‹ˆë‹¤.

### Usage
#### webpack server êµ¬ë™
```
npm run dev
```
#### application êµ¬ë™
```
./gradlew clean build
```
<br>


### 1ë‹¨ê³„ - ì›¹ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸
1. ì›¹ ì„±ëŠ¥ì˜ˆì‚°ì€ ì–´ëŠì •ë„ê°€ ì ë‹¹í•˜ë‹¤ê³  ìƒê°í•˜ì‹œë‚˜ìš”
     
     * AS-IS
     
       * https://subway.kangseonghyo.kro.kr 
       
           | Desktop  | Lighthouse ì„±ëŠ¥    | FCP(s) | TTI(s) |
           | :------- | ------------------| ---------- | ----------- |
           | ë©”ì¸     | 67                 | 2.7        | 2.8         |
           | ì—­ê´€ë¦¬   | 30                 | 3.0        | 5.1         |
           | ë…¸ì„ ê´€ë¦¬ | 57                  | 2.9        | 3.2         |
           | êµ¬ê°„ê´€ë¦¬ | 65                  | 3.0        | 3.2         |
           | ê²½ë¡œê²€ìƒ‰ | 65                  | 1.6        | 2.0         | 
    
       * íƒ€ì‚¬ ë©”ì¸í˜ì´ì§€(ì „ì²´ ë…¸ì„ ) ê¸°ì¤€ 
         
           | Desktop  | Lighthouse ì„±ëŠ¥    | FCP(s) | TTI(s) | ìŠ¤í¬ë¦½íŠ¸ ìµœëŒ€ í¬ê¸° | ìŠ¤í¬ë¦½íŠ¸ ê°œìˆ˜ |
           | :-------   | ----------------| ----------  | ----------- | ------------    | ----------  |
           | ë„¤ì´ë²„ë§µ    | 90               | 0.5        | 0.7         | 87KB            | 13          |  
           | ì„œìš¸êµí†µê³µì‚¬ | 70               | 1.6        | 2.0         | 100KB           | 8           |  
        
     
     * ì„±ëŠ¥ì˜ˆì‚° ì‘ì„± 
        - ëª©í‘œ 
            - ë¹ ë¥¸ ì»¨í…ì¸  ë…¸ì¶œ(+ë Œë”ë§)ì„ ìœ„í•œ í˜ì´ì§€ë¡œë“œ ì‹œê°„ ìµœì†Œí™”
        - ì„±ëŠ¥
            - Lighthouse Performance 80ì  ì´ìƒ ë‹¬ì„± (íƒ€ì‚¬ +- 15% ìœ ì§€)
        - ì‹œê°„
            - Cable ê¸°ì¤€ FCP 1ì´ˆ , TTI 1ì´ˆ ë¯¸ë§Œ
        - ê·œì¹™
            - ìŠ¤í¬ë¦½íŠ¸ í¬ê¸° ìµœëŒ€ 100KB ì´í•˜ ì„¤ì •
            - ìŠ¤í¬ë¦½íŠ¸ 3ê°œ ì´í•˜ë¡œ ìœ ì§€
            - CSS ìµœëŒ€ í¬ê¸° 100KB ì´í•˜ë¡œ ìœ ì§€
            - ê²½ë¡œ ê²€ìƒ‰ API ì‘ë‹µ 250ms ì´í•˜ë¡œ ìœ ì§€


2. ì›¹ ì„±ëŠ¥ì˜ˆì‚°ì„ ë°”íƒ•ìœ¼ë¡œ í˜„ì¬ ì§€í•˜ì²  ë…¸ì„ ë„ ì„œë¹„ìŠ¤ëŠ” ì–´ë–¤ ë¶€ë¶„ì„ ê°œì„ í•˜ë©´ ì¢‹ì„ê¹Œìš”

    - í¬ê¸°ê°€ í° ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë‚´ìš© ì œê±° ë° ë¦¬ì†ŒìŠ¤ ì••ì¶• í•„ìš” (í˜ì´ì§€ë¡œë”©ì†ë„ ê°œì„ )
        - /js/vendors.js(2,125KB) , /js/main.js(172KB)
        - CloudFront ë¥¼ í™œìš©í•˜ì—¬ ì •ì íŒŒì¼ CDN ìºì‹œ í™œìš©
    - ë¶ˆí•„ìš” Font css ì œê±° 

---

### 2ë‹¨ê³„ - ë¶€í•˜ í…ŒìŠ¤íŠ¸ 
1. ë¶€í•˜í…ŒìŠ¤íŠ¸ ì „ì œì¡°ê±´ì€ ì–´ëŠì •ë„ë¡œ ì„¤ì •í•˜ì…¨ë‚˜ìš” 
    * ëŒ€ìƒì‹œìŠ¤í…œ ë²”ìœ„
         - [Reverse Proxy -> Service(Pod) -> DataBase(Pod)]
    
    * ëª©í‘œ
        - Throughput : 28 ~ 140
          - ì˜ˆìƒ DAU : 500,000 (íƒ€ì‚¬ í‰ê·  DAU 1,000,000)
          - ì˜ˆìƒ 1ëª…ë‹¹ í‰ê·  ì ‘ì†ìˆ˜/1ì¼ ì´ ì ‘ì†ìˆ˜ : 5íšŒ / 2,500,000
          - ì˜ˆìƒ 1ì¼ í‰ê·  RPS : 28 RPS  
          - ì˜ˆìƒ 1ì¼ ìµœëŒ€ RPS : 140 RPS
        - ë°ì´í„°ìˆ˜ (data-subway ì´ë¯¸ì§€ ì‚¬ìš©) 
          - ì§€í•˜ì²  ë…¸ì„  24ê°œ
          - ì§€í•˜ì² ì—­ 617ê°œ
          - êµ¬ê°„ 341ê°œ
          - ì¦ê²¨ì°¾ê¸° 10ê°œ
    
    * ê° í…ŒìŠ¤íŠ¸ ì¡°ê±´ (ì™¸ë¶€ë§ -> https://subway.kangseonghyo.kro.kr)
        - Smoke
          - VUser : 1
          - Http_req_duration
             - p(99) : ~ 100ms 
            
        - Load
          - VUser(min/max) : 14 / 70
             - T(2.5) = R(5) * http_req_duration(0.5)  
          - ë¶€í•˜ìœ ì§€ê¸°ê°„ : 30m
          - Http_req_duration
            - p(95) : ~ 100ms   
            - p(99) : ~ 500ms   
    
    * í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤
        1. ë©”ì¸í˜ì´ì§€ì— ì ‘ì†í•œë‹¤.
        2. ë¡œê·¸ì¸ í•œë‹¤. (ì—‘ì„¸ìŠ¤í† í° ë°œê¸‰)
        3. ì¦ê²¨ì°¾ê¸°ë¥¼ ì¡°íšŒí•œë‹¤.
        4. ê²½ë¡œê²€ìƒ‰ìœ¼ë¡œ ì´ë™í•œë‹¤.
        5. ê²½ë¡œë¥¼ ê²€ìƒ‰í•œë‹¤.

2. Smoke, Load, Stress í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ì™€ ê²°ê³¼ë¥¼ ê³µìœ í•´ì£¼ì„¸ìš”
    * ê²°ê³¼
        - Load í…ŒìŠ¤íŠ¸ 
            - í‰ê·  RPS : 1.42K, ìµœëŒ€ RPS : 1.74K
            - í‰ê·  Reqest Duration : 10ms , ìµœëŒ€ Reqest Duration : 700ms 
            - ì—ëŸ¬ : 0
        - Stress í…ŒìŠ¤íŠ¸(~ max VUser 300)  
            - VUser 260 ì˜¤ë¥˜ ë°œìƒ
            - Service EC2 ì¸ìŠ¤í„´ìŠ¤ CPU : ìµœëŒ€ 52.3%
    * ìƒì„¸ ( ìŠ¤í¬ë¦½íŠ¸ / ê·¸ë¼íŒŒë‚˜&K6) 
        - [Result](/result)


---

### 3ë‹¨ê³„ - ë¡œê¹…, ëª¨ë‹ˆí„°ë§
1. ê° ì„œë²„ë‚´ ë¡œê¹… ê²½ë¡œë¥¼ ì•Œë ¤ì£¼ì„¸ìš”

2. Cloudwatch ëŒ€ì‹œë³´ë“œ URLì„ ì•Œë ¤ì£¼ì„¸ìš”
